(function(e){function t(t){for(var n,l,o=t[0],s=t[1],c=t[2],p=0,d=[];p<o.length;p++)l=o[p],Object.prototype.hasOwnProperty.call(r,l)&&r[l]&&d.push(r[l][0]),r[l]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);u&&u(t);while(d.length)d.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],n=!0,o=1;o<a.length;o++){var s=a[o];0!==r[s]&&(n=!1)}n&&(i.splice(t--,1),e=l(l.s=a[0]))}return e}var n={},r={index:0},i=[];function l(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.m=e,l.c=n,l.d=function(e,t,a){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)l.d(a,n,function(t){return e[t]}.bind(null,n));return a},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],s=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var u=s;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("c31f")},"34b3":function(e,t,a){"use strict";a("e2a2")},a14e:function(e,t,a){var n=a("24fb");t=n(!1),t.push([e.i,".el-table-admin-page .search-wriper[data-v-ee93e3a0]{margin-bottom:10px;display:flex;justify-content:space-between}.el-table-admin-page .search-wriper>.search-left[data-v-ee93e3a0]{position:relative}.el-table-admin-page .search-wriper>.search-left>.search-item-box[data-v-ee93e3a0]{position:absolute;z-index:10;display:flex}.el-table-admin-page .search-wriper>.search-left>.search-item-box .border-custom[data-v-ee93e3a0]{border-right:1px solid #dfe4ed;border-bottom:1px solid #dfe4ed}.el-table-admin-page .search-wriper>.search-left>.search-item-box .search-item-top[data-v-ee93e3a0]{padding-bottom:3px;background-color:#fff}.el-table-admin-page .search-wriper>.search-left>.search-item-box .search-item-top .add-entity[data-v-ee93e3a0]{width:30px;height:30px;margin:3px;background-color:#fff;border:1px solid #dcdfe6;display:flex;justify-content:center;align-items:center;cursor:pointer}.el-table-admin-page .search-wriper>.search-left>.search-item-box .search-item-top[data-v-ee93e3a0]  .el-select>.el-input{width:150px}.el-table-admin-page .search-wriper>.search-left>.search-item-box .search-item-top[data-v-ee93e3a0]  .el-input{width:148px}.el-table-admin-page .search-wriper>.search-left>.search-item-box .search-item-top .search-item .search-content[data-v-ee93e3a0]{display:flex}.el-table-admin-page .search-wriper>.search-left>.search-item-box .search-item-top .search-item+.search-item[data-v-ee93e3a0]{margin:1px 0}.el-table-admin-page .search-wriper>.search-left>.search-item-box .search-item-top .search-item[data-v-ee93e3a0]:not(:first-of-type){background-color:#fff}.el-table-admin-page .pagination[data-v-ee93e3a0]{padding:10px;display:flex;justify-content:center}",""]),e.exports=t},c31f:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("el-table-admin-page",e._b({ref:"elTableAdminPage",attrs:{columns:e.columns,"table-data":e.tableData,"highlight-current-row":""},on:{searchList:e.getPage,"size-change":e.sizeChange,"current-change":e.currentChange},scopedSlots:e._u([{key:"searchLeft",fn:function(t){var n=t.entitys,r=t.index;return[a("el-input",{attrs:{placeholder:"请输入搜索内容"},model:{value:n[r].queryValue,callback:function(t){e.$set(n[r],"queryValue",t)},expression:"entitys[index].queryValue"}})]}},{key:"columnEspecial",fn:function(t){var n=t.column,r=t.row;return[["operation"].includes(n.prop)?[a("el-button",{attrs:{type:"primary",plain:"",size:"mini"}},[e._v("编辑")])]:[e._v(e._s(r[n.prop]))]]}}])},"el-table-admin-page",e.pageParams,!1,!0),[a("template",{slot:"searchRight"},[a("el-button",{attrs:{type:"primary"}},[e._v("新增")])],1)],2)],1)},r=[],i={name:"App",data(){return{columns:[{type:"selection"},{type:"radio"},{type:"index"},{label:"测试二级表头",children:[{label:"第一季度靠左",prop:"first"},{label:"第二季度居中",prop:"second",align:"center"},{label:"第三季度靠右",prop:"three",align:"right"}]},{label:"测试表头自适应生成的宽度",prop:"name",align:"center"},{columnKey:"id",label:"测试固定宽度",prop:"date",width:"130",align:"center"},{label:"省份",prop:"province",align:"center"},{label:"市区",prop:"city",align:"center"},{label:"地址",prop:"address",showOverflowTooltip:!0},{label:"邮编",prop:"zip",feildType:"STRING",queryType:"LIKE",isnull:!0,form:!0,search:!0},{label:"操作",prop:"operation",form:!1,search:!1,align:"center",showOverflowTooltip:!1}],pageParams:{currentPage:1,pageSize:10,total:0},tableData:[]}},mounted(){this.getPage()},methods:{getPage(e){const t={...this.pageParams,entitys:e||this.$refs["elTableAdminPage"]&&this.$refs["elTableAdminPage"].entitys};console.log(t),setTimeout(()=>{let e;this.pageParams.total||(this.pageParams.total=9*this.pageParams.pageSize+Math.floor(Math.random()*(this.pageParams.pageSize-1+1)+1)),e=this.pageParams.currentPage===Math.ceil(this.pageParams.total/this.pageParams.pageSize)?this.pageParams.total%this.pageParams.pageSize:this.pageParams.pageSize,this.tableData=Array.from({length:e},(e,t)=>({date:(new Date).getTime(),name:t+1+" https://shenzjd.com",province:t+1+"深圳",city:t+1+"宝安区",address:t+1+"上海市普陀区金沙江路 1518 弄",zip:""+(t+1),first:"一季度"+(t+1),second:"二季度"+(t+1),three:"三季度"+(t+1)}))},100)},sizeChange(e){this.pageParams.pageSize=e,this.getPage()},currentChange(e){"number"===typeof e?(this.pageParams.currentPage=e,this.getPage()):console.log(e)}}},l=i,o=a("2877"),s=Object(o["a"])(l,n,r,!1,null,null,null),c=s.exports,u=a("2b0e"),p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el-table-admin-page"},[e.searchShow?a("div",{staticClass:"search-wriper"},[a("div",{staticClass:"search-left"},[a("div",{staticClass:"search-item-box"},[a("div",{staticClass:"search-item-top",class:{"border-custom":e.entitys.every((function(e){return!0===e.show}))}},e._l(e.entitys,(function(t,n){return a("div",{key:n,staticClass:"search-item"},[a("el-collapse-transition",[a("transition",{attrs:{name:"el-zoom-in-top"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:0===n||t.show,expression:"index === 0 ? true : entity.show"}],staticClass:"search-content"},[a("el-select",{attrs:{placeholder:"请选择","value-key":"prop",clearable:""},model:{value:t.querySelect,callback:function(a){e.$set(t,"querySelect",a)},expression:"entity.querySelect"}},e._l(e.entitysSelection,(function(e){return a("el-option",{key:e.prop,attrs:{label:e.label,value:e.prop}})})),1),e._t("searchLeft",null,{entitys:e.entitys,index:n}),0===n?a("div",{staticClass:"add-entity",on:{click:e.addEntity}},[a("i",{staticClass:"el-icon-plus"})]):e._e(),0!==n?a("div",{staticClass:"add-entity",on:{click:function(t){return e.deleteEntity(n)}}},[a("i",{staticClass:"el-icon-minus"})]):e._e()],2)])],1)],1)})),0),a("el-button",{staticStyle:{height:"40px"},attrs:{type:"primary"},nativeOn:{click:function(t){return e.searchList(!0)}}},[e._v("查询")])],1)]),e._t("searchRight")],2):e._e(),a("el-table",e._g(e._b({attrs:{data:e.tableData,"header-align":"right"},on:{"row-click":e.rowClick}},"el-table",e.$attrs,!1),e.$listeners),[e._l(e.columns,(function(t){return[["selection"].includes(t.type)?a("el-table-column",e._b({key:t.prop,attrs:{align:t.align||"center",width:t.width||50}},"el-table-column",t,!1)):e._e(),["radio"].includes(t.type)?a("el-table-column",e._b({key:t.prop,attrs:{label:t.label||"单选",align:t.align||"center",width:t.width||50},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("el-radio",{attrs:{label:n},model:{value:e.radioRow,callback:function(t){e.radioRow=t},expression:"radioRow"}},[e._v(e._s(""))])]}}],null,!0)},"el-table-column",t,!1)):e._e(),["index"].includes(t.type)?a("el-table-column",e._b({key:t.prop,attrs:{label:t.label||"序号",width:t.width||50,align:t.align||"center",index:function(t){return t+(e.currentPage-1)*e.pageSize+1}}},"el-table-column",t,!1)):e._e(),["selection","radio","index"].includes(t.type)?e._e():a("el-table-column",e._b({key:t.prop,attrs:{"header-align":t.headerAlign||"center","show-overflow-tooltip":t.showOverflowTooltip||!0,"min-width":t.width||e.flexColumnWidth(t)},scopedSlots:e._u([{key:"default",fn:function(a){var n=a.row;return[e._t("columnEspecial",null,{column:t,row:n})]}}],null,!0)},"el-table-column",t,!1),[t.children?e._l(t.children,(function(n){return a("el-table-column",e._b({key:n.prop,attrs:{"header-align":t.headerAlign||"center","min-width":n.width||e.flexColumnWidth(n)},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._t("columnEspecial",null,{column:n,row:a})]}}],null,!0)},"el-table-column",n,!1))})):e._e()],2)]}))],2),e.paginationShow?a("el-pagination",e._g(e._b({staticClass:"pagination",attrs:{layout:"total, sizes, prev, pager, next, jumper"}},"el-pagination",e.$attrs,!1),e.$listeners)):e._e()],1)},d=[],h=a("5c96"),f=(a("0fae"),a("5488")),m=a.n(f);function g(e,t){var a="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=y(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,o=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return l=e.done,e},e:function(e){o=!0,i=e},f:function(){try{l||null==a.return||a.return()}finally{if(o)throw i}}}}function y(e,t){if(e){if("string"===typeof e)return b(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?b(e,t):void 0}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}u["default"].use(h["Table"]),u["default"].use(h["TableColumn"]),u["default"].use(h["Button"]),u["default"].use(h["Pagination"]),u["default"].use(h["Select"]),u["default"].use(h["Option"]),u["default"].use(h["Input"]),u["default"].use(h["Radio"]),u["default"].component(m.a.name,m.a),u["default"].prototype.$message=h["Message"];var w={name:"elTableAdminPage",inheritAttrs:!1,props:{columns:{type:Array,default:function(){return[]}},tableData:{type:Array,default:function(){return[]}},searchShow:{type:Boolean,default:!0},paginationShow:{type:Boolean,default:!0},currentPage:{type:Number,default:1},pageSize:{type:Number,default:10}},data:function(){return{entitys:[{querySelect:"",queryValue:"",show:!1}],radioRow:""}},computed:{entitysSelection:function(){var e=[],t=function t(a){a.map((function(a){a.children?t(a.children):e.push(a)}))};return t(this.columns.filter((function(e){return!1!==e.search&&!["selection","radio","index","expand"].includes(e.type)}))),e}},watch:{entitysSelection:{handler:function(e){this.entitys[0].querySelect=e[0].prop},deep:!0,immediate:!0}},created:function(){var e=this;this.watchMethod(),this.$watch((function(){return e.entitys.length}),(function(){e.watchMethod()}))},methods:{watchMethod:function(){var e=this;this.entitys.map((function(t){e.$watch((function(){return t.querySelect}),(function(e,a){e.prop!==a.prop&&(t.queryValue="")}))}))},addEntity:function(){this.entitys.length<=this.columns.filter((function(e){return!1!==e.search})).length-1?(this.entitys.push({querySelect:"",queryValue:"",show:!0}),this.entitys.map((function(e){e.show=!0}))):this.$message({type:"info",message:"当前搜索条件已达上限"})},deleteEntity:function(e){this.entitys.splice(e,1),1===this.entitys.length&&(this.entitys[0].show=!1)},clearEntity:function(){this.entitys.map((function(e){e.querySelect="",e.queryValue=""}))},flexColumnWidth:function(e){var t,a=e.label||"",n=0,r=g(a);try{for(r.s();!(t=r.n()).done;){var i=t.value;n+=i>="A"&&i<="Z"||i>="a"&&i<="z"?8:i>="一"&&i<="龥"?16:5}}catch(l){r.e(l)}finally{r.f()}return n<70&&(n=70),n},searchList:function(e){var t=this;this.entitys.map((function(e){e.show=!1})),this.$emit("update:paginationShow",!1),this.$nextTick((function(){t.$emit("update:paginationShow",!0),e&&t.$emit("update:currentPage",1)})),this.$emit("searchList",this.entitys)},toggleEntityShow:function(){this.entitys.map((function(e,t){0!==t&&(e.show=!e.show)}))},rowClick:function(e){this.radioRow=e}}},v=w,x=(a("34b3"),Object(o["a"])(v,p,d,!1,null,"ee93e3a0",null)),_=x.exports;_.install=function(e){e.component(_.name,_)};var S=_,P=[S],k=function e(t){e.installed||P.map((function(e){return t.component(e.name,e)}))};"undefined"!==typeof window&&window.vue&&k(window.vue);var C={install:k,elTableAdminPage:S};u["default"].use(C),new u["default"]({render:e=>e(c)}).$mount("#app")},e2a2:function(e,t,a){var n=a("a14e");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var r=a("499e").default;r("6c53e266",n,!0,{sourceMap:!1,shadowMode:!1})}});
//# sourceMappingURL=index.55398000.js.map